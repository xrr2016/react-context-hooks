(this["webpackJsonpcontext-app"]=this["webpackJsonpcontext-app"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(9),i=n.n(a),o=(n(14),n(8)),u=n(2),s=n(3),l=n(5),j=n(4),h=n(0),b=r.a.createContext({user:null,isAuthenticated:!1}),O=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={user:{},isAuthenticated:!1},e.login=function(t){e.state.isAuthenticated||e.setState({user:t,isAuthenticated:!0})},e.logout=function(){e.setState({user:null,isAuthenticated:!1})},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(h.jsx)(b.Provider,{value:Object(o.a)(Object(o.a)({},this.state),{},{login:this.login,logout:this.logout}),children:this.props.children})}}]),n}(c.Component),d=n(7),g=Object(c.createContext)(),x=function(e){var t=Object(c.useState)([{lang:"\u4e2d\u6587"},{lang:"English"}]),n=Object(d.a)(t,1)[0],r=Object(c.useState)(0),a=Object(d.a)(r,2),i=a[0],o=a[1];return Object(h.jsx)(g.Provider,{value:{languages:n,current:i,changeLanguage:function(e){o(e)}},children:e.children})},p=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(h.jsx)(b.Consumer,{children:function(e){return Object(h.jsx)("header",{children:Object(h.jsx)("p",{children:e.isAuthenticated?e.user.name:"Please login"})})}})}}]),n}(c.Component),f=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(u.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).login=function(){e.context.login({name:"\u5c0f\u660e"})},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{onClick:this.login,children:"Login"}),Object(h.jsx)("button",{onClick:this.context.logout,children:"Logout"})]})}}]),n}(c.Component);f.contextType=b;var v=f,C=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return Object(h.jsx)("footer",{children:Object(h.jsx)(v,{})})}}]),n}(c.Component),m=function(){var e=Object(c.useContext)(b),t=Object(c.useContext)(g),n=t.languages,r=t.current,a=t.changeLanguage;return Object(h.jsxs)("div",{children:[Object(h.jsxs)("h1",{children:["Hello, ",e.isAuthenticated?e.user.name:"World"]}),Object(h.jsx)("label",{htmlFor:"lang-select",children:"Choose a lang:"}),Object(h.jsx)("select",{id:"lang-select",onChange:function(e){a(e.target.value)},children:n.map((function(e,t){return Object(h.jsx)("option",{value:t,children:e.lang},t)}))}),Object(h.jsxs)("p",{children:["Currrent Lang: ",n[r].lang]})]})};var y=function(){return Object(h.jsx)(O,{children:Object(h.jsx)(b.Consumer,{children:function(e){var t=e.isAuthenticated;return Object(h.jsxs)("div",{className:"App",style:{backgroundColor:t?"pink":""},children:[Object(h.jsx)(p,{}),Object(h.jsx)(x,{children:Object(h.jsx)(m,{})}),Object(h.jsx)(C,{})]})}})})};i.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(y,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.ffbb7eac.chunk.js.map